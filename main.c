
/////////////////////////////////////////////////////////////////////////////////////////////

#include "system/system.h"
#include "iib_devices/application.h"
#include "iib_devices/task_iib.h"

/////////////////////////////////////////////////////////////////////////////////////////////

#include "FreeRTOS.h"
#include "task.h"
#include "queue.h"
#include "semphr.h"
#include "iib_devices/priorities_task_iib.h"

/////////////////////////////////////////////////////////////////////////////////////////////

TaskHandle_t myTask1Handle = NULL;
TaskHandle_t myTask2Handle = NULL;

/////////////////////////////////////////////////////////////////////////////////////////////

void So1Task(void *pvParameters);
void So2Task(void *pvParameters);

/////////////////////////////////////////////////////////////////////////////////////////////

//main.c

int main(void)
{
    init_system();

    AppConfiguration();

/////////////////////////////////////////////////////////////////////////////////////////////

    // Create tasks
    xTaskCreate(So1Task, (const portCHAR *)"So1",
                configMINIMAL_STACK_SIZE, NULL, PRIORITY_So1Task, &myTask1Handle);

    xTaskCreate(So2Task, (const portCHAR *)"So2",
                configMINIMAL_STACK_SIZE, NULL, PRIORITY_So2Task, &myTask2Handle);

    // Start the scheduler.  This should not return.
    vTaskStartScheduler();

    return 0;
}

/////////////////////////////////////////////////////////////////////////////////////////////

void So1Task(void *pvParameters)
{

    for (;;)
    {
        Application();
    }
}

/////////////////////////////////////////////////////////////////////////////////////////////

void So2Task(void *pvParameters)
{

    for (;;)
    {
        BoardTask();
    }
}

/////////////////////////////////////////////////////////////////////////////////////////////


